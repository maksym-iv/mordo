{
    "version": 3,
    "terraform_version": "0.11.7",
    "serial": 284,
    "lineage": "e788af3e-9752-1459-15aa-a2442c9333c5",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "AWS_S3_BUCKET_PROCESSED": {
                    "sensitive": false,
                    "type": "string",
                    "value": "demo-mordo-images-processed"
                },
                "api-cf-url": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "https://d1w17id8sc95q0.cloudfront.net"
                    ]
                },
                "api-gw-url": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "https://cmmvvx6w13.execute-api.us-west-1.amazonaws.com/dev-mordo-images"
                    ]
                }
            },
            "resources": {
                "aws_api_gateway_deployment.mordo": {
                    "type": "aws_api_gateway_deployment",
                    "depends_on": [
                        "aws_api_gateway_integration.mordo",
                        "aws_api_gateway_rest_api.mordo",
                        "data.aws_s3_bucket.mordo_images.*"
                    ],
                    "primary": {
                        "id": "0sg1w3",
                        "attributes": {
                            "created_date": "2018-08-13T17:02:34Z",
                            "description": "",
                            "execution_arn": "arn:aws:execute-api:us-west-1:962546435606:cmmvvx6w13/deployment-dev-mordo-images",
                            "id": "0sg1w3",
                            "invoke_url": "https://cmmvvx6w13.execute-api.us-west-1.amazonaws.com/deployment-dev-mordo-images",
                            "rest_api_id": "cmmvvx6w13",
                            "stage_description": "Deployed at 2018-08-13T17:02:31Z",
                            "stage_name": "deployment-dev-mordo-images",
                            "variables.%": "2",
                            "variables.s3_bucket": "dev-mordo-images",
                            "variables.s3_bucket_region": "us-west-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_integration.mordo": {
                    "type": "aws_api_gateway_integration",
                    "depends_on": [
                        "aws_api_gateway_method.mordo_process_image",
                        "aws_api_gateway_resource.mordo_process_image",
                        "aws_api_gateway_rest_api.mordo",
                        "aws_lambda_alias.mordo_deploy",
                        "data.aws_region.current"
                    ],
                    "primary": {
                        "id": "agi-cmmvvx6w13-znm4yw-GET",
                        "attributes": {
                            "cache_key_parameters.#": "0",
                            "cache_namespace": "znm4yw",
                            "connection_id": "",
                            "connection_type": "INTERNET",
                            "http_method": "GET",
                            "id": "agi-cmmvvx6w13-znm4yw-GET",
                            "integration_http_method": "POST",
                            "passthrough_behavior": "WHEN_NO_MATCH",
                            "request_parameters.%": "0",
                            "request_templates.%": "0",
                            "resource_id": "znm4yw",
                            "rest_api_id": "cmmvvx6w13",
                            "timeout_milliseconds": "29000",
                            "type": "AWS_PROXY",
                            "uri": "arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-1:962546435606:function:demo-mordo:deployed/invocations"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_method.mordo_process_image": {
                    "type": "aws_api_gateway_method",
                    "depends_on": [
                        "aws_api_gateway_resource.mordo_process_image",
                        "aws_api_gateway_rest_api.mordo"
                    ],
                    "primary": {
                        "id": "agm-cmmvvx6w13-znm4yw-GET",
                        "attributes": {
                            "api_key_required": "false",
                            "authorization": "NONE",
                            "authorization_scopes.#": "0",
                            "authorizer_id": "",
                            "http_method": "GET",
                            "id": "agm-cmmvvx6w13-znm4yw-GET",
                            "request_models.%": "0",
                            "request_parameters.%": "0",
                            "request_validator_id": "",
                            "resource_id": "znm4yw",
                            "rest_api_id": "cmmvvx6w13"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_method_settings.mordo": {
                    "type": "aws_api_gateway_method_settings",
                    "depends_on": [
                        "aws_api_gateway_rest_api.mordo",
                        "aws_api_gateway_stage.mordo.*"
                    ],
                    "primary": {
                        "id": "cmmvvx6w13-dev-mordo-images-*/*",
                        "attributes": {
                            "id": "cmmvvx6w13-dev-mordo-images-*/*",
                            "method_path": "*/*",
                            "rest_api_id": "cmmvvx6w13",
                            "settings.#": "1",
                            "settings.0.cache_data_encrypted": "false",
                            "settings.0.cache_ttl_in_seconds": "0",
                            "settings.0.caching_enabled": "false",
                            "settings.0.data_trace_enabled": "false",
                            "settings.0.logging_level": "",
                            "settings.0.metrics_enabled": "false",
                            "settings.0.require_authorization_for_cache_control": "false",
                            "settings.0.throttling_burst_limit": "5",
                            "settings.0.throttling_rate_limit": "10",
                            "settings.0.unauthorized_cache_control_header_strategy": "",
                            "stage_name": "dev-mordo-images"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_method_settings.mordo_deployment": {
                    "type": "aws_api_gateway_method_settings",
                    "depends_on": [
                        "aws_api_gateway_deployment.mordo.*",
                        "aws_api_gateway_rest_api.mordo"
                    ],
                    "primary": {
                        "id": "cmmvvx6w13-deployment-dev-mordo-images-*/*",
                        "attributes": {
                            "id": "cmmvvx6w13-deployment-dev-mordo-images-*/*",
                            "method_path": "*/*",
                            "rest_api_id": "cmmvvx6w13",
                            "settings.#": "1",
                            "settings.0.cache_data_encrypted": "false",
                            "settings.0.cache_ttl_in_seconds": "0",
                            "settings.0.caching_enabled": "false",
                            "settings.0.data_trace_enabled": "false",
                            "settings.0.logging_level": "",
                            "settings.0.metrics_enabled": "false",
                            "settings.0.require_authorization_for_cache_control": "false",
                            "settings.0.throttling_burst_limit": "1",
                            "settings.0.throttling_rate_limit": "1",
                            "settings.0.unauthorized_cache_control_header_strategy": "",
                            "stage_name": "deployment-dev-mordo-images"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_resource.mordo_process": {
                    "type": "aws_api_gateway_resource",
                    "depends_on": [
                        "aws_api_gateway_rest_api.mordo"
                    ],
                    "primary": {
                        "id": "xcpsf0",
                        "attributes": {
                            "id": "xcpsf0",
                            "parent_id": "o6oby20ht7",
                            "path": "/process",
                            "path_part": "process",
                            "rest_api_id": "cmmvvx6w13"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_resource.mordo_process_image": {
                    "type": "aws_api_gateway_resource",
                    "depends_on": [
                        "aws_api_gateway_resource.mordo_process",
                        "aws_api_gateway_rest_api.mordo"
                    ],
                    "primary": {
                        "id": "znm4yw",
                        "attributes": {
                            "id": "znm4yw",
                            "parent_id": "xcpsf0",
                            "path": "/process/{image+}",
                            "path_part": "{image+}",
                            "rest_api_id": "cmmvvx6w13"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_rest_api.mordo": {
                    "type": "aws_api_gateway_rest_api",
                    "depends_on": [],
                    "primary": {
                        "id": "cmmvvx6w13",
                        "attributes": {
                            "api_key_source": "HEADER",
                            "binary_media_types.#": "3",
                            "binary_media_types.0": "*/*",
                            "binary_media_types.1": "image/*",
                            "binary_media_types.2": "application/octet-stream",
                            "created_date": "2018-08-13T16:20:13Z",
                            "description": "This is API GW for demo mordo service",
                            "endpoint_configuration.#": "1",
                            "endpoint_configuration.0.types.#": "1",
                            "endpoint_configuration.0.types.0": "REGIONAL",
                            "execution_arn": "arn:aws:execute-api:us-west-1:962546435606:cmmvvx6w13",
                            "id": "cmmvvx6w13",
                            "minimum_compression_size": "-1",
                            "name": "demo-mordo",
                            "policy": "",
                            "root_resource_id": "o6oby20ht7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_api_gateway_stage.mordo": {
                    "type": "aws_api_gateway_stage",
                    "depends_on": [
                        "aws_api_gateway_deployment.mordo",
                        "aws_api_gateway_rest_api.mordo",
                        "data.aws_s3_bucket.mordo_images.*"
                    ],
                    "primary": {
                        "id": "ags-cmmvvx6w13-dev-mordo-images",
                        "attributes": {
                            "access_log_settings.#": "0",
                            "cache_cluster_enabled": "false",
                            "cache_cluster_size": "",
                            "client_certificate_id": "",
                            "deployment_id": "0sg1w3",
                            "description": "",
                            "documentation_version": "",
                            "execution_arn": "arn:aws:execute-api:us-west-1:962546435606:cmmvvx6w13/dev-mordo-images",
                            "id": "ags-cmmvvx6w13-dev-mordo-images",
                            "invoke_url": "https://cmmvvx6w13.execute-api.us-west-1.amazonaws.com/dev-mordo-images",
                            "rest_api_id": "cmmvvx6w13",
                            "stage_name": "dev-mordo-images",
                            "tags.%": "0",
                            "variables.%": "2",
                            "variables.s3_bucket": "dev-mordo-images",
                            "variables.s3_bucket_region": "us-west-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_cloudfront_distribution.mordo": {
                    "type": "aws_cloudfront_distribution",
                    "depends_on": [
                        "aws_api_gateway_resource.mordo_process",
                        "aws_api_gateway_rest_api.mordo",
                        "aws_api_gateway_stage.mordo.*",
                        "data.aws_region.current"
                    ],
                    "primary": {
                        "id": "E1HYRO1O20Z7P8",
                        "attributes": {
                            "active_trusted_signers.%": "2",
                            "active_trusted_signers.enabled": "false",
                            "active_trusted_signers.items.#": "0",
                            "aliases.#": "0",
                            "arn": "arn:aws:cloudfront::962546435606:distribution/E1HYRO1O20Z7P8",
                            "cache_behavior.#": "0",
                            "caller_reference": "2018-08-14T00:43:00.415895282+08:00",
                            "comment": "demo-mordo",
                            "custom_error_response.#": "0",
                            "default_cache_behavior.#": "1",
                            "default_cache_behavior.478809808.allowed_methods.#": "3",
                            "default_cache_behavior.478809808.allowed_methods.0": "HEAD",
                            "default_cache_behavior.478809808.allowed_methods.1": "GET",
                            "default_cache_behavior.478809808.allowed_methods.2": "OPTIONS",
                            "default_cache_behavior.478809808.cached_methods.#": "2",
                            "default_cache_behavior.478809808.cached_methods.0": "HEAD",
                            "default_cache_behavior.478809808.cached_methods.1": "GET",
                            "default_cache_behavior.478809808.compress": "false",
                            "default_cache_behavior.478809808.default_ttl": "87000",
                            "default_cache_behavior.478809808.field_level_encryption_id": "",
                            "default_cache_behavior.478809808.forwarded_values.#": "1",
                            "default_cache_behavior.478809808.forwarded_values.2555876073.cookies.#": "1",
                            "default_cache_behavior.478809808.forwarded_values.2555876073.cookies.2625240281.forward": "none",
                            "default_cache_behavior.478809808.forwarded_values.2555876073.cookies.2625240281.whitelisted_names.#": "0",
                            "default_cache_behavior.478809808.forwarded_values.2555876073.headers.#": "0",
                            "default_cache_behavior.478809808.forwarded_values.2555876073.query_string": "true",
                            "default_cache_behavior.478809808.forwarded_values.2555876073.query_string_cache_keys.#": "0",
                            "default_cache_behavior.478809808.lambda_function_association.#": "0",
                            "default_cache_behavior.478809808.max_ttl": "259200",
                            "default_cache_behavior.478809808.min_ttl": "0",
                            "default_cache_behavior.478809808.smooth_streaming": "false",
                            "default_cache_behavior.478809808.target_origin_id": "dev-mordo-images",
                            "default_cache_behavior.478809808.trusted_signers.#": "0",
                            "default_cache_behavior.478809808.viewer_protocol_policy": "redirect-to-https",
                            "default_root_object": "",
                            "domain_name": "d1w17id8sc95q0.cloudfront.net",
                            "enabled": "true",
                            "etag": "E2CYID7CTDWLEK",
                            "hosted_zone_id": "Z2FDTNDATAQYW2",
                            "http_version": "http2",
                            "id": "E1HYRO1O20Z7P8",
                            "in_progress_validation_batches": "0",
                            "is_ipv6_enabled": "true",
                            "last_modified_time": "2018-08-13 16:43:01.845 +0000 UTC",
                            "logging_config.#": "0",
                            "origin.#": "1",
                            "origin.1067712873.custom_header.#": "0",
                            "origin.1067712873.custom_origin_config.#": "1",
                            "origin.1067712873.custom_origin_config.2416201424.http_port": "80",
                            "origin.1067712873.custom_origin_config.2416201424.https_port": "443",
                            "origin.1067712873.custom_origin_config.2416201424.origin_keepalive_timeout": "5",
                            "origin.1067712873.custom_origin_config.2416201424.origin_protocol_policy": "https-only",
                            "origin.1067712873.custom_origin_config.2416201424.origin_read_timeout": "20",
                            "origin.1067712873.custom_origin_config.2416201424.origin_ssl_protocols.#": "1",
                            "origin.1067712873.custom_origin_config.2416201424.origin_ssl_protocols.0": "TLSv1.2",
                            "origin.1067712873.domain_name": "cmmvvx6w13.execute-api.us-west-1.amazonaws.com",
                            "origin.1067712873.origin_id": "dev-mordo-images",
                            "origin.1067712873.origin_path": "/dev-mordo-images/process",
                            "origin.1067712873.s3_origin_config.#": "0",
                            "price_class": "PriceClass_200",
                            "restrictions.#": "1",
                            "restrictions.1097372288.geo_restriction.#": "1",
                            "restrictions.1097372288.geo_restriction.2625240281.locations.#": "0",
                            "restrictions.1097372288.geo_restriction.2625240281.restriction_type": "none",
                            "retain_on_delete": "false",
                            "status": "Deployed",
                            "tags.%": "1",
                            "tags.Name": "demo-mordo",
                            "viewer_certificate.#": "1",
                            "viewer_certificate.69840937.acm_certificate_arn": "",
                            "viewer_certificate.69840937.cloudfront_default_certificate": "true",
                            "viewer_certificate.69840937.iam_certificate_id": "",
                            "viewer_certificate.69840937.minimum_protocol_version": "TLSv1",
                            "viewer_certificate.69840937.ssl_support_method": "",
                            "web_acl_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.mordo_lambda": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.aws_iam_policy_document.mordo_lambda"
                    ],
                    "primary": {
                        "id": "demo-mordo-lambda",
                        "attributes": {
                            "arn": "arn:aws:iam::962546435606:role/demo-mordo-lambda",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2018-08-13T16:20:12Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "demo-mordo-lambda",
                            "max_session_duration": "3600",
                            "name": "demo-mordo-lambda",
                            "path": "/",
                            "unique_id": "AROAIZRHDNSWNFA56KMBG"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.mordo_lambda_s3": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.mordo_lambda",
                        "data.aws_iam_policy_document.mordo_lambda_s3"
                    ],
                    "primary": {
                        "id": "demo-mordo-lambda:mordo_lambda_s3",
                        "attributes": {
                            "id": "demo-mordo-lambda:mordo_lambda_s3",
                            "name": "mordo_lambda_s3",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectTagging\",\n        \"s3:PutObjectAcl\",\n        \"s3:PutObject\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::demo-mordo-images-processed/*\",\n        \"arn:aws:s3:::demo-mordo-images-processed\"\n      ]\n    },\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectAcl\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::dev-mordo-images/*\",\n        \"arn:aws:s3:::dev-mordo-images\"\n      ]\n    },\n    {\n      \"Sid\": \"3\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:ListAllMyBuckets\",\n        \"s3:GetBucketLocation\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                            "role": "demo-mordo-lambda"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy_attachment.mordo_lambda": {
                    "type": "aws_iam_role_policy_attachment",
                    "depends_on": [
                        "aws_iam_role.mordo_lambda"
                    ],
                    "primary": {
                        "id": "demo-mordo-lambda-20180813162015203300000001",
                        "attributes": {
                            "id": "demo-mordo-lambda-20180813162015203300000001",
                            "policy_arn": "arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
                            "role": "demo-mordo-lambda"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lambda_alias.mordo_deploy": {
                    "type": "aws_lambda_alias",
                    "depends_on": [
                        "aws_lambda_function.mordo"
                    ],
                    "primary": {
                        "id": "arn:aws:lambda:us-west-1:962546435606:function:demo-mordo:deployed",
                        "attributes": {
                            "arn": "arn:aws:lambda:us-west-1:962546435606:function:demo-mordo:deployed",
                            "description": "demo stage",
                            "function_name": "arn:aws:lambda:us-west-1:962546435606:function:demo-mordo",
                            "function_version": "$LATEST",
                            "id": "arn:aws:lambda:us-west-1:962546435606:function:demo-mordo:deployed",
                            "name": "deployed",
                            "routing_config.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lambda_function.mordo": {
                    "type": "aws_lambda_function",
                    "depends_on": [
                        "aws_iam_role.mordo_lambda",
                        "aws_s3_bucket.mordo_processed",
                        "aws_s3_bucket_object.mordo_deploy",
                        "data.external.mordo_zip"
                    ],
                    "primary": {
                        "id": "demo-mordo",
                        "attributes": {
                            "arn": "arn:aws:lambda:us-west-1:962546435606:function:demo-mordo",
                            "dead_letter_config.#": "0",
                            "description": "Mordo image service",
                            "environment.#": "1",
                            "environment.0.variables.%": "12",
                            "environment.0.variables.AWS_S3_BUCKET_PROCESSED": "demo-mordo-images-processed",
                            "environment.0.variables.CACHE_MAXAGE": "259200",
                            "environment.0.variables.DEBUG": "true",
                            "environment.0.variables.IMAGE_COMPRESSION": "6",
                            "environment.0.variables.IMAGE_ENLARGE": "false",
                            "environment.0.variables.IMAGE_LOSSLESS": "true",
                            "environment.0.variables.IMAGE_QUALITY": "90",
                            "environment.0.variables.MAXMEM": "492",
                            "environment.0.variables.PLATFORM": "aws",
                            "environment.0.variables.WATERMARK": "true",
                            "environment.0.variables.WATERMARK_PATH": "watermark.png",
                            "environment.0.variables.WATERMARK_SCALE": "0.3",
                            "function_name": "demo-mordo",
                            "handler": "mordo",
                            "id": "demo-mordo",
                            "invoke_arn": "arn:aws:apigateway:us-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-west-1:962546435606:function:demo-mordo/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2018-08-13T16:42:39.789+0000",
                            "memory_size": "512",
                            "publish": "false",
                            "qualified_arn": "arn:aws:lambda:us-west-1:962546435606:function:demo-mordo:$LATEST",
                            "reserved_concurrent_executions": "5",
                            "role": "arn:aws:iam::962546435606:role/demo-mordo-lambda",
                            "runtime": "go1.x",
                            "s3_bucket": "demo-mordo-deploy",
                            "s3_key": "deploy/mordo.zip",
                            "source_code_hash": "iKQczOBfHeGSBZejH1zgMuoEIHoKF78WdODJiMZAc3U=",
                            "source_code_size": "22667650",
                            "tags.%": "1",
                            "tags.Name": "demo-mordo",
                            "timeout": "10",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "$LATEST",
                            "vpc_config.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_lambda_permission.apigw_lambda": {
                    "type": "aws_lambda_permission",
                    "depends_on": [
                        "aws_api_gateway_method.mordo_process_image",
                        "aws_api_gateway_resource.mordo_process",
                        "aws_api_gateway_resource.mordo_process_image",
                        "aws_api_gateway_rest_api.mordo",
                        "aws_lambda_alias.mordo_deploy",
                        "aws_lambda_function.mordo",
                        "data.aws_caller_identity.current",
                        "data.aws_region.current"
                    ],
                    "primary": {
                        "id": "AllowExecutionFromAPIGateway",
                        "attributes": {
                            "action": "lambda:InvokeFunction",
                            "function_name": "demo-mordo",
                            "id": "AllowExecutionFromAPIGateway",
                            "principal": "apigateway.amazonaws.com",
                            "qualifier": "deployed",
                            "source_arn": "arn:aws:execute-api:us-west-1:962546435606:cmmvvx6w13/*/GET/process/{image+}",
                            "statement_id": "AllowExecutionFromAPIGateway"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket.mordo_deploy": {
                    "type": "aws_s3_bucket",
                    "depends_on": [],
                    "primary": {
                        "id": "demo-mordo-deploy",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "private",
                            "arn": "arn:aws:s3:::demo-mordo-deploy",
                            "bucket": "demo-mordo-deploy",
                            "bucket_domain_name": "demo-mordo-deploy.s3.amazonaws.com",
                            "bucket_regional_domain_name": "demo-mordo-deploy.s3.us-west-1.amazonaws.com",
                            "cors_rule.#": "0",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z2F56UZL2M1ACD",
                            "id": "demo-mordo-deploy",
                            "lifecycle_rule.#": "1",
                            "lifecycle_rule.0.abort_incomplete_multipart_upload_days": "0",
                            "lifecycle_rule.0.enabled": "true",
                            "lifecycle_rule.0.expiration.#": "1",
                            "lifecycle_rule.0.expiration.4242051737.date": "",
                            "lifecycle_rule.0.expiration.4242051737.days": "2",
                            "lifecycle_rule.0.expiration.4242051737.expired_object_delete_marker": "false",
                            "lifecycle_rule.0.id": "processed",
                            "lifecycle_rule.0.noncurrent_version_expiration.#": "0",
                            "lifecycle_rule.0.noncurrent_version_transition.#": "0",
                            "lifecycle_rule.0.prefix": "lambda/",
                            "lifecycle_rule.0.tags.%": "0",
                            "lifecycle_rule.0.transition.#": "0",
                            "logging.#": "0",
                            "region": "us-west-1",
                            "replication_configuration.#": "0",
                            "request_payer": "BucketOwner",
                            "server_side_encryption_configuration.#": "0",
                            "tags.%": "1",
                            "tags.Name": "demo-mordo-deploy",
                            "versioning.#": "1",
                            "versioning.0.enabled": "false",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket.mordo_processed": {
                    "type": "aws_s3_bucket",
                    "depends_on": [],
                    "primary": {
                        "id": "demo-mordo-images-processed",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "private",
                            "arn": "arn:aws:s3:::demo-mordo-images-processed",
                            "bucket": "demo-mordo-images-processed",
                            "bucket_domain_name": "demo-mordo-images-processed.s3.amazonaws.com",
                            "bucket_regional_domain_name": "demo-mordo-images-processed.s3.us-west-1.amazonaws.com",
                            "cors_rule.#": "0",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z2F56UZL2M1ACD",
                            "id": "demo-mordo-images-processed",
                            "lifecycle_rule.#": "1",
                            "lifecycle_rule.0.abort_incomplete_multipart_upload_days": "0",
                            "lifecycle_rule.0.enabled": "true",
                            "lifecycle_rule.0.expiration.#": "1",
                            "lifecycle_rule.0.expiration.812814855.date": "",
                            "lifecycle_rule.0.expiration.812814855.days": "3",
                            "lifecycle_rule.0.expiration.812814855.expired_object_delete_marker": "false",
                            "lifecycle_rule.0.id": "processed",
                            "lifecycle_rule.0.noncurrent_version_expiration.#": "0",
                            "lifecycle_rule.0.noncurrent_version_transition.#": "0",
                            "lifecycle_rule.0.prefix": "prc_",
                            "lifecycle_rule.0.tags.%": "0",
                            "lifecycle_rule.0.transition.#": "0",
                            "logging.#": "0",
                            "region": "us-west-1",
                            "replication_configuration.#": "0",
                            "request_payer": "BucketOwner",
                            "server_side_encryption_configuration.#": "0",
                            "tags.%": "1",
                            "tags.Name": "demo-mordo-images-processed",
                            "versioning.#": "1",
                            "versioning.0.enabled": "false",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.mordo_deploy": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [
                        "aws_s3_bucket.mordo_deploy",
                        "data.external.mordo_zip"
                    ],
                    "primary": {
                        "id": "deploy/mordo.zip",
                        "attributes": {
                            "acl": "private",
                            "bucket": "demo-mordo-deploy",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "fbe84fe3fa76a91fb45883cf1a121e45",
                            "id": "deploy/mordo.zip",
                            "key": "deploy/mordo.zip",
                            "server_side_encryption": "",
                            "source": "/Users/mack/go/src/gitlab.com/doctor-strange/mordo/terraform-release/aws/../../pkg/mordo.zip",
                            "storage_class": "STANDARD",
                            "tags.%": "0",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_caller_identity.current": {
                    "type": "aws_caller_identity",
                    "depends_on": [],
                    "primary": {
                        "id": "2018-08-13 17:00:55.630257371 +0000 UTC",
                        "attributes": {
                            "account_id": "962546435606",
                            "arn": "arn:aws:iam::962546435606:user/mordo-setup",
                            "id": "2018-08-13 17:00:55.630257371 +0000 UTC",
                            "user_id": "AIDAJLDYITJAUTW3AZ47S"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.mordo_lambda": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "3693445097",
                        "attributes": {
                            "id": "3693445097",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.2528466339": "sts:AssumeRole",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.3118762561.identifiers.#": "1",
                            "statement.0.principals.3118762561.identifiers.2638019528": "lambda.amazonaws.com",
                            "statement.0.principals.3118762561.type": "Service",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.mordo_lambda_s3": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [
                        "aws_s3_bucket.mordo_processed"
                    ],
                    "primary": {
                        "id": "3640937832",
                        "attributes": {
                            "id": "3640937832",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"1\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectTagging\",\n        \"s3:PutObjectAcl\",\n        \"s3:PutObject\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::demo-mordo-images-processed/*\",\n        \"arn:aws:s3:::demo-mordo-images-processed\"\n      ]\n    },\n    {\n      \"Sid\": \"2\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObjectAcl\",\n        \"s3:ListBucket\",\n        \"s3:GetObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::dev-mordo-images/*\",\n        \"arn:aws:s3:::dev-mordo-images\"\n      ]\n    },\n    {\n      \"Sid\": \"3\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:ListAllMyBuckets\",\n        \"s3:GetBucketLocation\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                            "statement.#": "3",
                            "statement.0.actions.#": "5",
                            "statement.0.actions.1400860598": "s3:PutObjectAcl",
                            "statement.0.actions.2071725391": "s3:GetObject",
                            "statement.0.actions.2871235000": "s3:PutObjectTagging",
                            "statement.0.actions.315547055": "s3:PutObject",
                            "statement.0.actions.486976917": "s3:ListBucket",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "2",
                            "statement.0.resources.2527314490": "arn:aws:s3:::demo-mordo-images-processed/*",
                            "statement.0.resources.532781142": "arn:aws:s3:::demo-mordo-images-processed",
                            "statement.0.sid": "1",
                            "statement.1.actions.#": "3",
                            "statement.1.actions.1400860598": "s3:PutObjectAcl",
                            "statement.1.actions.2071725391": "s3:GetObject",
                            "statement.1.actions.486976917": "s3:ListBucket",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "2",
                            "statement.1.resources.2558754441": "arn:aws:s3:::dev-mordo-images",
                            "statement.1.resources.3647658981": "arn:aws:s3:::dev-mordo-images/*",
                            "statement.1.sid": "2",
                            "statement.2.actions.#": "2",
                            "statement.2.actions.3948445924": "s3:GetBucketLocation",
                            "statement.2.actions.796062918": "s3:ListAllMyBuckets",
                            "statement.2.condition.#": "0",
                            "statement.2.effect": "Allow",
                            "statement.2.not_actions.#": "0",
                            "statement.2.not_principals.#": "0",
                            "statement.2.not_resources.#": "0",
                            "statement.2.principals.#": "0",
                            "statement.2.resources.#": "1",
                            "statement.2.resources.2679715827": "*",
                            "statement.2.sid": "3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_region.current": {
                    "type": "aws_region",
                    "depends_on": [],
                    "primary": {
                        "id": "us-west-1",
                        "attributes": {
                            "current": "true",
                            "description": "US West (N. California)",
                            "endpoint": "ec2.us-west-1.amazonaws.com",
                            "id": "us-west-1",
                            "name": "us-west-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_s3_bucket.mordo_images": {
                    "type": "aws_s3_bucket",
                    "depends_on": [],
                    "primary": {
                        "id": "dev-mordo-images",
                        "attributes": {
                            "arn": "arn:aws:s3:::dev-mordo-images",
                            "bucket": "dev-mordo-images",
                            "bucket_domain_name": "dev-mordo-images.s3.amazonaws.com",
                            "hosted_zone_id": "Z2F56UZL2M1ACD",
                            "id": "dev-mordo-images",
                            "region": "us-west-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.external.mordo_zip": {
                    "type": "external",
                    "depends_on": [],
                    "primary": {
                        "id": "-",
                        "attributes": {
                            "id": "-",
                            "program.#": "4",
                            "program.0": "sh",
                            "program.1": "./zip.sh",
                            "program.2": "../../pkg/mordo.zip",
                            "program.3": "../../pkg/",
                            "result.%": "3",
                            "result.output_base64sha256": "b5SsXStonGLbg8A3m+zukqsew5/j08NKG1NpKRbo/ao=",
                            "result.output_md5": "fbe84fe3fa76a91fb45883cf1a121e45",
                            "result.output_path": "/Users/mack/go/src/gitlab.com/doctor-strange/mordo/terraform-release/aws/../../pkg/mordo.zip"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.external"
                }
            },
            "depends_on": []
        }
    ]
}
